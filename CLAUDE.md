CLAUDE.md – 🚖 Mobility Ops 360 完全開発・運用ガイドライン

1. 🎯 プロジェクトミッション

『Mobility Ops 360』はタクシー業界が直面する「人材不足・コスト高騰・セキュリティリスク」を解消し、収益性と運用効率を劇的に改善します。

2. 🌟 コアバリュー
    •    即応性: リアルタイムでの需要対応
    •    収益性: 利益率向上を徹底追求
    •    安全安心: 完全なセキュリティと安定運行を提供
    •    DX促進: 地方・中小企業のDX導入障壁をゼロ化

3. 🎯 目標指標（North-Star Metrics）
    •    コールセンター人件費を75%以上削減
    •    ドライバー充足率を95%以上に改善
    •    車両1台あたりの月間粗利を12%以上増加

4. 🛠 技術スタック

カテゴリ    使用技術・フレームワーク
フロントエンド    Flutter WebView, React (予約管理Webアプリ)
バックエンド    Cloudflare Workers, QUIC, NATS JetStream, gRPC
課金・通知    Stripe, Twilio, Slack, SendGrid
テスト    Playwright (E2E), Jest (単体テスト)
分析    Google Analytics, BigQuery

5. 📌 開発・運用プロセス
    1.    課題整理 → 明確な要件定義作成
    2.    ミッション・コアバリューの整合性を常時確認
    3.    要件の継続的磨き込み
    4.    テストコード作成（単体・統合テスト）
    5.    実装（TDD推奨）
    6.    E2Eテストの定期実施
    7.    サービスローンチ（初期導入サポート含む）
    8.    マーケティング施策（キャンペーン・自治体提携）
    9.    自己改善サイクル（ユーザーフィードバック即時反映）

6. 📑 要件定義テンプレート（必須）

### 🔹 機能名
-
### 📍 目的・提供価値
-
### 📖 機能詳細
-
### ⚙️ 技術仕様
- インフラ:
- DB設計:
- API:
### 💳 課金要素
-
### 🚩 優先度（MVP or 後回し）
-
### ⚠️ 制約条件・注意点
-

7. 💡 提供コンポーネント
    •    AI Voice Dispatch: AIによる予約電話自動応答（コールセンター人件費75%削減）
    •    Driver Pool: ギグ乗務員のスマートマッチング
    •    Secure Gatekeeper: ゼロトラストIAMでの権限・ログ管理
    •    Connector Hub 2.0: マルチ配車アプリを一本化
    •    Profit Engine AI: 動的な需要予測・料金最適化
    •    Edge Lite Box: 月額リース型の低コスト端末

8. 📐 設計思想（Claude Code連携強化）
    •    JSON設定ファイル (claude.json) を簡潔明瞭に維持
    •    Claude Codeは並列処理を最大化（concurrency: 8）
    •    新機能は即座に要件定義を CLAUDE.md に記載し通知

9. ✅ 開発・デプロイフロー
    •    GitHub Flow準拠
    •    PRはコードレビューを経てマージ
    •    CI/CDでテスト後自動デプロイ
    •    障害発生時自動ロールバック・Slack通知

10. 🔄 QAフロー
    •    Staging環境でE2E・単体自動テストを常時実施
    •    定期的に手動回帰テスト実施
    •    バグ報告はSlack専用チャネルで管理
    •    障害発生時の即時復旧と報告体制の整備

11. 📊 コスト管理ルール
    •    月間予算: 1,500 USD（80%使用でアラート通知）
    •    月次予算のレビューと最適化を実施
    •    定期的なリソース使用状況監視

12. 👥 開発チーム役割

担当    内容
プロダクト管理    課題整理、要件定義、フィードバック収集
フロントエンド    Flutter/React WebView開発・UX改善
バックエンド    API設計開発、Cloudflare・QUIC環境構築
インフラ管理    Cloudflare/NATS設定・運用・監視
課金・通知    Stripe・通知サービス連携運用
QA    テスト計画実施、品質管理
マーケティング    集客施策、自治体提携・広告運用

13. 🧑‍💻 トラブルシューティング（随時更新）

問題例    解決策
配車処理遅延    QUICログ確認・リアルタイムで処理状況改善
課金処理失敗    Stripeログ確認・Webhook再送信対応
権限管理ミス    Secure Gatekeeperで即時検知・遮断対応


⸻

🚖 まとめ
本ガイドラインを軸に、Mobility Ops 360はタクシー事業者が抱える課題をAI・セキュリティ・ギグエコノミーの力で根本解決します。全員が常に最新情報を共有し、継続的改善を徹底します。